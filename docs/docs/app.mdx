---
sidebar_position: 2
---

# App

The `App` class provides the main entry point for initializing WC-Aria.

## Methods

### `App.start(config)`

Configure and initialize all components in one call.

```ts
import { App } from "waria";

// Initialize - registers all queued components
App.start({}); // router() + init()
```

### `App.router(config)`

Configure router settings without initializing components.

```ts
App.router({ hash: true, base: "/app" });
```

### `App.init()`

Initialize all queued components. Call after configuration.

```ts
import { App } from "waria";

// Configure first
App.router({ hash: true });

// Do other setup...

// Then initialize
App.init();
```

## Configuration Options

| Option | Type      | Default | Description                                         |
| ------ | --------- | ------- | --------------------------------------------------- |
| `hash` | `boolean` | `false` | Use hash-based URLs (`#/path`) instead of pathname  |
| `base` | `string`  | `"/"`   | Base path prefix for pathname routing               |
| `sync` | `boolean` | `true`  | Sync navigation value across all `w-nav` components |

## Routing Modes

### Hash Mode

```ts
App.start({ hash: true });
```

URLs look like: `https://example.com/#/about`

Best for:

- Static file hosting (GitHub Pages, S3)
- Single-page apps without server configuration
- Avoiding server-side URL rewriting

### Pathname Mode

```ts
App.start({ hash: false, base: "/app" });
```

URLs look like: `https://example.com/app/about`

Best for:

- Clean URLs
- SEO (when combined with SSR)
- Server-configured routing

## Example: Full Setup

```ts
import { App } from "waria";

App.start({
  hash: true, // Use hash-based routing (#/path)
  base: "/", // Base path for pathname routing

  // Before Routing
  before: (from, to, { next, redirect }) => {
    console.log("Going from", from, "to", to);
    // Paths are clean: "/home", "/admin", etc.

    const isLoggedIn = false;
    if (to.path === "/admin" && !isLoggedIn) {
      redirect("/login");
      return;
    }
    next();
  },

  // After Routing
  after: (_, to) => {
    console.log("Arrived at", to);
  },
});
```

```html
<w-nav label="Navigation">
  <a slot="item" href="/home">Home</a>
  <a slot="item" href="/about">About</a>
  <a slot="item" href="/contact">Contact</a>
</w-nav>

<main>
  <w-view path="/home">
    <h1>Welcome Home</h1>
  </w-view>

  <w-view path="/about">
    <h1>About Us</h1>
  </w-view>

  <w-view path="/contact">
    <h1>Contact</h1>
  </w-view>
</main>
```
